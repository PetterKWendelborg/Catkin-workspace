<?xml version="1.0"?>
<robot name = "simple_box">

    <link name = "dummy"/>

    <link name="base_link">
        <visual>
            <geometry>
                <box size = "0.25 0.25 0.3" />
            </geometry>
            <material name = "green">
                <color rgba = "0 1 0 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <box size="0.25 0.25 0.3"/>
            </geometry>
        </collision>
        <inertial>
            <mass value = "10.0"/>
            <origin xyz = "0 0 0" rpy= "0 0 0"/> 
            <inertia ixx="1.0" ixy = "0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
        </inertial>
    </link>

    <joint name= "dummy_joint" type = "fixed">
        <parent link= "dummy" />
        <child link= "base_link"/>
    </joint>

    <gazebo reference= "base_link">
        <material>Gazebo/Purple</material>
        <mu1>0.2</mu1>
        <mu2>0.2</mu2>

    </gazebo>

    
    <!-- depth camera -->

    <link name= "lidar_link">
        <visual>
            <geometry> 
                <cylinder radius= "0.05" length= "0.1" />
            </geometry>
            <material name= "red" >
                <color rgba= "1 0 0 1" />
            </material>
        </visual>
        <inertial>
            <mass value= "0.2" />
            <origin xyz= "0 0 0" />
            <inertia ixx= "0.1" ixy= "0.0" ixz= "0.0" iyy= "0.0" iyz= "0.0" izz= "0.1" />
        </inertial>
        <collision>
            <geometry>
                <cylinder radius= "0.05" length= "0.1" />
            </geometry>
        </collision>
    </link>

    <joint name= "lidar_joint" type= "fixed">
        <parent link= "base_link" />
        <child link= "lidar_link" />
        <origin xyz= "0 0 0.2" rpy= "0 0 0"/>
    </joint> 

    <gazebo reference= "lidar_link">
        <material>Gazebo/Black</material>
        <sensor type= "ray" name= "lidar_sensor">
            <visualize>false</visualize>
            <update_rate>10</update_rate>
            <ray>
                <scan>
                    <horizontal>
                        <samples>360</samples>
                        <!-- <resolution>1</resolution> -->
                        <min_angle>-3.14</min_angle>
                        <max_angle>3.14</max_angle>
                    </horizontal>
                </scan>
                <range>
                    <min>0.3</min>
                    <max>5</max>
                    <!-- <resolution>0.01</resolution> -->
                </range>
            </ray>
            <plugin name= "lidar_sensor" filename= "libgazebo_ros_laser.so">
                <frameName>lidar_link</frameName>
                <!-- <ros>
                    <argument>~/out:=scan</argument>
                </ros>
                <output_type>sensor_msgs/LaserScan</output_type> -->
                <topicName>/scan</topicName>
                
            </plugin>
        </sensor>
    </gazebo>


</robot>